<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="it" xml:lang="it"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Enrico Toffalini">

<title>L’Open Science è Terza Missione? – home</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-dfb324f25d9b1687192fa8be62ac8f9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Nessun risultato",
    "search-matching-documents-text": "documenti trovati",
    "search-copy-link-title": "Copiare il link nella ricerca",
    "search-hide-matches-text": "Nascondere i risultati aggiuntivi",
    "search-more-match-text": "ci sono altri risultati in questo documento",
    "search-more-matches-text": "ulteriori risultati in questo documento",
    "search-clear-button-title": "Pulire",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancellare",
    "search-submit-button-title": "Inviare",
    "search-label": "Ricerca"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">home</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Ricerca"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Attiva/disattiva la navigazione" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://psicostat.dpss.psy.unipd.it/"> 
<span class="menu-text"><img src="../../images/faviconpsicostat2.png" style="height: 22px; margin-top: -4px;"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/EnricoToffalini"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">L’Open Science è Terza Missione?</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Autore/Autrice</div>
      <div class="quarto-title-meta-contents">
               <p>Enrico Toffalini </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Data di Pubblicazione</div>
      <div class="quarto-title-meta-contents">
        <p class="date">25 novembre 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Negli ultimi anni la <strong>Terza Missione</strong> è diventata centrale all’interno dell’università italiana, diventando non solo un ambito riconosciuto a livello istituzionale, ma anche un criterio rilevante nei processi di valutazione e di pianificazione strategica degli atenei. Parallelamente, sul piano internazionale, l’<strong>Open Science</strong> è emersa come pilastro delle buone pratiche di ricerca, promuovendo trasparenza, riutilizzabilità e accessibilità ai risultati scientifici. <strong>La Terza Missione c’entra con l’Open Science? Sì, e non poco.</strong> Di seguito discuto perché l’Open Science non rappresenta solo un insieme di pratiche virtuose per la ricerca, ma in alcune sue parti rappresenta anche un’azione di Terza Missione, con un diretto potenziale nel generare impatto sociale, culturale e professionale anche al di fuori dell’accademia.</p>
<p>In Italia, la Terza Missione era storicamente intesa come “trasferimento tecnologico” (applicazioni della ricerca con impatto al di fuori dell’accademia). Più di recente si sono aggiunte la divulgazione scientifica / <em>public engagement</em> (di fatto diventata le componente più popolare, perché più facile da valorizzare, per chi si occupa di psicologia), e l’azione per la salute pubblica. In generale, valgono come Terza Missione tutte le attività attraverso cui l’università genera valore per la società.</p>
<section id="cosa-dice-anvur" class="level2">
<h2 class="anchored" data-anchor-id="cosa-dice-anvur">Cosa dice ANVUR</h2>
<p>Nel documento <a href="https://www.anvur.it/sites/default/files/2024-11/VQR-2020-2024-Modalita-valutazione-GEV_VdC.pdf" target="_blank"><em>VQR 2020–2024 – Modalità di valutazione dei GEV</em></a>, ANVUR elenca esplicitamente tra le attività rilevanti per la Terza Missione:</p>
<ul>
<li>open science;<br>
</li>
<li>open data;<br>
</li>
<li>piattaforme digitali per la disseminazione della conoscenza;<br>
</li>
<li>research integrity (trasparenza, rigore, riproducibilità, condivisione);<br>
</li>
<li>MOOC e materiali didattici online;<br>
</li>
<li>siti web dedicati alla comunicazione della ricerca.</li>
</ul>
<p>Questa lista rende evidente che l’Open Science non appartiene soltanto alla sfera della ricerca, ma si colloca pienamente all’interno dei criteri valutativi della Terza Missione. Insomma, la domanda iniziale ha già una direzione chiara secondo l’ANVUR.</p>
</section>
<section id="cosa-è-open-science-e-cosa-può-rientrare-nella-terza-missione" class="level2">
<h2 class="anchored" data-anchor-id="cosa-è-open-science-e-cosa-può-rientrare-nella-terza-missione">Cosa è Open Science e cosa può rientrare nella Terza Missione</h2>
<p>L’Open Science non va confusa con il solo <em>open access</em>, che comunque ne rappresenta una parte. Comprende infatti una costellazione di pratiche, tra cui possiamo inserire:</p>
<ul>
<li>condivisione di dataset con principi <a href="https://www.go-fair.org/fair-principles/" target="_blank">FAIR</a> (<em>Findable</em>, <em>Accessible</em>, <em>Interoperable</em>, <em>Reusable</em>);<br>
</li>
<li>repository aperti per funzioni e pacchetti software (GitHub, CRAN, PyPI);<br>
</li>
<li>preregistrazioni e protocolli accessibili;<br>
</li>
<li>materiali didattici aperti (slide, corsi, libri, MOOC);<br>
</li>
<li>app e strumenti interattivi (Shiny, web app);<br>
</li>
<li>postprint e preprint accessibili;<br>
</li>
<li>sintesi divulgative collegate ai prodotti della ricerca;</li>
<li>strumenti per valutazione psicometrica (questionari, scale, test) con dati normativi prodotti dalla ricerca.</li>
</ul>
<p>Questi materiali non sono semplici accessori della ricerca. Sono strumenti che permettono un riutilizzo diretto da parte di professionisti, clinici, insegnanti e aziende. In altre parole, rappresentano <strong>trasferimento di conoscenza</strong>, cioè esattamente ciò che la Terza Missione richiede.</p>
<p>Condividere dataset, codici, materiali didattici, applicazioni, strumenti psicometrici, ecc., significa permettere ad altri, al di fuori dell’accademia, di usare strumenti che nascono nella ricerca ma possono trovare applicazioni ben oltre l’accademia.</p>
<p>L’apertura e accessibilità pubblica dei prodotti della ricerca migliora la qualità della scienza stessa, oltre a renderla più utile socialmente. È un doppio guadagno: accademico e sociale. La ricerca sta già andando in questa direzione (e.g., <a href="https://doi.org/10.1177/25152459241283477" target="_blank">Hardwicke et al., 2024</a>), si tratta solo di adeguarsi.</p>
<figure class="figure">
<img src="hardwicke.png" alt="Hardwicke et al. 2024" style="width: 100%; height: auto;" class="figure-img">
<figcaption>
Crescita delle principali pratiche di open science (preregistrazione, open materials, open data, open code), mappate da <a href="https://doi.org/10.1177/25152459241283477" target="_blank">Hardwicke et al., 2024</a>
</figcaption>
</figure>
</section>
<section id="come-integrare-lopen-science-nella-propria-attività-di-terza-missione" class="level2">
<h2 class="anchored" data-anchor-id="come-integrare-lopen-science-nella-propria-attività-di-terza-missione">Come integrare l’Open Science nella propria attività di Terza Missione</h2>
<p>Alcune strategie attuabili da ricercatrici/ricercatori e strutture accademiche:</p>
<p><strong>Condividere materiali secondo buone prassi</strong></p>
<p>Bisogna rendere i materiali “riutilizzabili”, non solo “visibili”, e quindi:</p>
<ul>
<li>seguire principi <a href="https://www.go-fair.org/fair-principles/" target="_blank">FAIR</a> per i dati;</li>
<li>applicare licenze appropriate (potrebbe essere raccomandata in questo caso la <em>CC BY-SA</em>, che permette condivisione, riutilizzo, modifica, anche per scopi commerciali, a patto che sia dato credito all’autore);<br>
</li>
<li>curare documentazione e metadati (l’<em>ontologia semantica</em> che rende i materiali comprensibili al di fuori della cerchia degli addetti ai lavori);</li>
</ul>
<p><strong>Accompagnare i prodotti della ricerca con sintesi divulgative</strong>. Ad esempio, accompagnare preprint e postprint degli articoli di ricerca postati su piattaforme pubbliche (<em>green open access</em>) con:</p>
<ul>
<li>un breve riassunto in linguaggio accessibile ai non addetti ai lavori, allegato all’articolo;<br>
</li>
<li>slide pensate per professionisti non accademici;<br>
</li>
<li>una pagina web che descrive l’utilità del materiale condiviso (per chi sappia fare pagine web, e nel caso offrire seminari di formazione all’interno dei dipartimenti);</li>
<li>app/webapp che facilitino l’utilizzo dei materiali divulgati (ad esempio se si tratta di codice o di strumenti psicometrici; anche qui bisogna sapere come fare, ed è forndamentale la formazione).</li>
</ul>
<p><strong>Utilizzare piattaforme che tracciano l’impatto</strong>. In ottica di rendicontazione, l’Open Science deve essere misurabile e documentabile. Piattaforme quali PsyArXiv, OSF, Zenodo, GitHub e simili permettono di mostrare chiaramente:</p>
<ul>
<li>quanto un file viene scaricato;<br>
</li>
<li>da chi viene citato;<br>
</li>
<li>come evolve nel tempo.</li>
</ul>
<p>In particolare mostrano e permettono di riportare visualizzazioni, download, versioni, e licenze d’uso. Questi indicatori sono preziosi ai fini della rendicontazione.</p>
<p>In parallelo a questo, potrebbe essere utile per un dipartimento inaugurare una pagina chiara, aperta al pubblico, con rimandi (link) a dataset, pacchetti software, slide, materiali didattici, preprint e postprint, strumenti psicometrici (in certi casi l’accesso potrebbe dover essere qualificato, ad esempio per soli abilitati alla professione), e tutto quanto prodotto all’interno del dipartimento, in modo da fare una mappatura e valorizzazione d’insieme, anziché lasciare a ciascuna e ciascuno l’iniziativa di muoversi isolatamente.</p>
<section id="formazione" class="level3">
<h3 class="anchored" data-anchor-id="formazione">Formazione</h3>
<p>In base a quanto sopra è chiaro che diventa necessario promuovere, all’interno dei dipartimenti:</p>
<ul>
<li>seminari sull’uso delle piattaforme open;</li>
<li>seminari sulla creazione di pagine web, app, ecc.;</li>
<li>linee guida interne per la condivisione;</li>
<li>supporto su licenze e aspetti legali ed etici della condivisione di dati e materiali.</li>
</ul>
<p>Fare ricerca davvero utile, valida e spendibile come Terza Missione richiede competenze specifiche, preparazione tecnica e una formazione dedicata, ma proprio per questo offre l’occasione di valorizzare ricercatrici e ricercatori giovani che possiedono queste competenze e possono contribuire in modo decisivo all’impatto sociale dell’università.</p>
</section>
</section>
<section id="una-questione-culturale" class="level2">
<h2 class="anchored" data-anchor-id="una-questione-culturale">Una questione culturale</h2>
<p>Riconoscere l’Open Science come Terza Missione non è formalismo burocratico, ma cambio di prospettiva: significa affermare che la ricerca non produce valore solo quando porta un brevetto (per chi fa ricerca nelle scienze sociali è piuttosto difficile) o organizza un evento pubblico, ma anche quando rende <strong>utilizzabili</strong>, <strong>aperti</strong> e <strong>comprensibili</strong> a professionisti, aziende e cittadini i propri risultati. Le università italiane stanno andando in questa direzione, e molti ricercatori possono già oggi integrare l’Open Science nella propria attività senza costi aggiuntivi e con un impatto sociale immediato.</p>
</section>
<section id="conclusioni" class="level2">
<h2 class="anchored" data-anchor-id="conclusioni">Conclusioni</h2>
<p><strong>Sì, l’Open Science è anche Terza Missione.</strong></p>
<p>Non solo perché viene riconosciuta nei principali documenti istituzionali, ma perché incarna l’essenza stessa dell’impatto sociale della ricerca: portare conoscenze, strumenti e metodi fuori dall’università, in modo aperto, trasparente e riutilizzabile.</p>
<p>Per chi lavora nel sistema universitario italiano, abbracciare questa visione significa valorizzare attività già presenti, amplificare il proprio impatto e contribuire a una ricerca più credibile, accessibile e utile per la società.</p>
<hr>
</section>
<section id="appendice---esempi-di-open-science-valorizzabili-come-terza-missione" class="level2">
<h2 class="anchored" data-anchor-id="appendice---esempi-di-open-science-valorizzabili-come-terza-missione">Appendice - Esempi di Open Science Valorizzabili come Terza Missione</h2>
<p>Sono di seguito elencati alcuni esempi di contributi Open Science che rappresentano Terza Missione. Tali casi si basano sull’esperienza personale di chi ha redatto questa pagina, e quindi non sono affatto esaustivi né rappresentativi, ma vengono dati esclusivamente a titolo di esempio:</p>
<p><strong><em>Brevi corsi su GitHub</em></strong></p>
<ul>
<li>Repository “stat-teaching” per corsi metodologici avanzati (autore DPSS): <a href="https://github.com/stat-teaching" target="_blank">https://github.com/stat-teaching</a></li>
<li>Siti GitHub pages per corsi su basi di R e Python (autore DPG):
<ul>
<li><ol type="1">
<li><a href="https://enricotoffalini.github.io/Basics-R/" target="_blank">https://enricotoffalini.github.io/Basics-R/</a>;</li>
</ol></li>
<li><ol start="2" type="1">
<li><a href="https://enricotoffalini.github.io/Basics-Python/" target="_blank">https://enricotoffalini.github.io/Basics-Python/</a> (entrambi andrebbero rivisti in modo da slegarli dal riferimento al particolare corso di dottorato, di cui pure costituiscono il materiale di supporto);</li>
</ol></li>
</ul></li>
<li>Sito GitHub pages per seminario e raccolta di risorse sul tema meta-analisi in R (autore DPG): <a href="https://enricotoffalini.github.io/MetaAnalysisGenova/" target="_blank">https://enricotoffalini.github.io/MetaAnalysisGenova/</a> (come sopra).</li>
</ul>
<p><strong><em>Corsi ARCA su GitHub</em></strong></p>
<ul>
<li>Repository GitHub pubblica con materiali open di diversi corsi ARCA per competenze tecniche avanzate: <a href="https://github.com/arca-dpss" target="_blank">https://github.com/arca-dpss</a></li>
<li>Libro “The Open Science Manual” hosted via GitHub pages: <a href="https://arca-dpss.github.io/manual-open-science/" target="_blank">https://arca-dpss.github.io/manual-open-science/</a></li>
</ul>
<p><strong><em>Libro open access “Introduction to R” su GitHub pages</em></strong></p>
<p><a href="https://psicostat.github.io/Introduction2R_EN/" target="_blank">https://psicostat.github.io/Introduction2R_EN/</a></p>
<p><strong><em>Pacchetto di R su CRAN (principale autore DPSS-Unipd)</em></strong></p>
<p>Sebbene nato per la ricerca, il pacchetto è un buon esempio di creazione di funzioni che possono essere riutilizzate per obiettivi di data science più generali: <a href="https://cran.r-project.org/web/packages/overlapping/" target="_blank">https://cran.r-project.org/web/packages/overlapping/</a></p>
<p><strong><em>Shiny app</em></strong></p>
<ul>
<li>Supporto per cluster analysis: <a href="https://psicostat.shinyapps.io/clustersimulation-demo/" target="_blank">https://psicostat.shinyapps.io/clustersimulation-demo/</a> la app è nata per ricerca ma può essere riutilizzata per obiettivi generali di data science (autori DPG e DPSS-Unipd, ma attualmente non valorizzati nell’interfaccia);</li>
<li>Supporto a calcolo punteggi Implicit Association Test (IAT), che si utilizza talvolta anche nell’ambito professionale: 1) <a href="https://github.com/OttaviaE/DscoreApp" target="_blank">https://github.com/OttaviaE/DscoreApp</a>; 2) <a href="https://fisppa.psy.unipd.it/DscoreApp/" target="_blank">https://fisppa.psy.unipd.it/DscoreApp/</a></li>
</ul>
<p><strong><em>Materiali open di meeting di ricerca metodologici</em></strong></p>
<ul>
<li>Sito che raccoglie materiali, slide e app dimostrative di potenziale interesse generale per la data science, tra cui metodi e modelli statistici, tutorial in R, cluster analysis, network analysis, analisi di dati longitudinali: <a href="https://psicostat.dpss.psy.unipd.it/pages/handzone.html" target="_blank">https://psicostat.dpss.psy.unipd.it/pages/handzone.html</a> (una tale raccolta di materiali dovrebbe essere ordinata e valorizzata in ottica di trasferimento di conoscenza al di fuori del contesto particolare per la quale è stata creata).</li>
</ul>
<p><strong><em>Slide di conferenze e seminari</em></strong></p>
<ul>
<li>Slide open da conferenza, di potenziale interesse generale per clinici e associazioni su disturbi del neurosviluppo: <a href="https://enricotoffalini.github.io/slides/airipa2024.pdf" target="_blank">https://enricotoffalini.github.io/slides/airipa2024.pdf</a></li>
<li>Slide open da seminario per psicologi clinici su disturbi dell’apprendimento: <a href="https://psy-slides.github.io/civitanova/Toffalini-Dislessia-Dimensionale-2022.pdf" target="_blank">https://psy-slides.github.io/civitanova/Toffalini-Dislessia-Dimensionale-2022.pdf</a> (autore DPG)</li>
<li>Slide open per seminario per psicologi sul testing: <a href="https://psy-slides.github.io/testing-norme/" target="_blank">https://psy-slides.github.io/testing-norme/</a></li>
</ul>
<p><strong><em>Postprint (a cui andrebbero aggiunte sintesi divulgative)</em></strong></p>
<p>I seguenti sono solo alcuni esempi di prodotti di ricerca di autori DPG resi open access nelle loro versioni preprint e postprint; in tutti i casi manca, e andrebbe aggiunta ai fini di una valorizzazione per la Terza Missione, una breve sintesi del significato e rilevanza per l’interesse generale:</p>
<ul>
<li><a href="https://osf.io/preprints/psyarxiv/6aduy_v1" target="_blank">https://osf.io/preprints/psyarxiv/6aduy_v1</a></li>
<li><a href="https://osf.io/preprints/psyarxiv/25v6s_v1" target="_blank">https://osf.io/preprints/psyarxiv/25v6s_v1</a></li>
<li><a href="https://osf.io/preprints/psyarxiv/kwrsg_v2" target="_blank">https://osf.io/preprints/psyarxiv/kwrsg_v2</a></li>
<li><a href="https://osf.io/preprints/psyarxiv/cn3dj_v1" target="_blank">https://osf.io/preprints/psyarxiv/cn3dj_v1</a></li>
<li><a href="https://osf.io/preprints/psyarxiv/y7bxn_v1" target="_blank">https://osf.io/preprints/psyarxiv/y7bxn_v1</a></li>
</ul>
<p><strong><em>Materiali open di valutazione clinica DeCoNe Lab (autori DPG)</em></strong></p>
<p>La seguente pagina contiene alcuni materiali open di potenziale interesse per assessment clinico nei disturbi del neurosviluppo, in parte con associati dati normativi e standardizzazione: <a href="https://dpg.unipd.it/en/deconelab/materials" target="_blank">https://dpg.unipd.it/en/deconelab/materials</a> (la batteria andrebbe valorizzata con un’adeguata raccolta e impaginazione di tutti i materiali e i dati).</p>
<p><strong><em>Standardizzazione open per valutazione clinica con MoCA</em></strong></p>
<p><a href="https://osf.io/b2eqn/" target="_blank">https://osf.io/b2eqn/</a></p>
<p><strong><em>Libri, dispense e capitoli teorici per studenti e non</em></strong></p>
<p><a href="https://feracotommaso.github.io/Personality-and-individual-differences/chapters/personalitySkills.html" target="_blank">https://feracotommaso.github.io/Personality-and-individual-differences/chapters/personalitySkills.html</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copiato!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copiato!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>